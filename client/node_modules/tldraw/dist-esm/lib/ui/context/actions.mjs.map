{
  "version": 3,
  "sources": ["../../../../src/lib/ui/context/actions.tsx"],
  "sourcesContent": ["import {\n\tBox,\n\tDefaultColorStyle,\n\tDefaultFillStyle,\n\tEditor,\n\tHALF_PI,\n\tPageRecordType,\n\tTLBookmarkShape,\n\tTLEmbedShape,\n\tTLFrameShape,\n\tTLGroupShape,\n\tTLShapeId,\n\tTLShapePartial,\n\tTLTextShape,\n\tVec,\n\tapproximately,\n\tcompact,\n\tcreateShapeId,\n\topenWindow,\n\tuseEditor,\n} from '@tldraw/editor'\nimport * as React from 'react'\nimport { kickoutOccludedShapes } from '../../tools/SelectTool/selectHelpers'\nimport { getEmbedInfo } from '../../utils/embeds/embeds'\nimport { fitFrameToContent, removeFrame } from '../../utils/frames/frames'\nimport { EditLinkDialog } from '../components/EditLinkDialog'\nimport { EmbedDialog } from '../components/EmbedDialog'\nimport { useMenuClipboardEvents } from '../hooks/useClipboardEvents'\nimport { useCopyAs } from '../hooks/useCopyAs'\nimport { useExportAs } from '../hooks/useExportAs'\nimport { flattenShapesToImages } from '../hooks/useFlatten'\nimport { useInsertMedia } from '../hooks/useInsertMedia'\nimport { usePrint } from '../hooks/usePrint'\nimport { TLUiTranslationKey } from '../hooks/useTranslation/TLUiTranslationKey'\nimport { useTranslation } from '../hooks/useTranslation/useTranslation'\nimport { TLUiIconType } from '../icon-types'\nimport { useDialogs } from './dialogs'\nimport { TLUiEventSource, useUiEvents } from './events'\nimport { useToasts } from './toasts'\n\n/** @public */\nexport interface TLUiActionItem<\n\tTransationKey extends string = string,\n\tIconType extends string = string,\n> {\n\ticon?: IconType\n\tid: string\n\tkbd?: string\n\tlabel?: TransationKey | { [key: string]: TransationKey }\n\treadonlyOk?: boolean\n\tcheckbox?: boolean\n\tonSelect: (source: TLUiEventSource) => Promise<void> | void\n}\n\n/** @public */\nexport type TLUiActionsContextType = Record<string, TLUiActionItem>\n\n/** @internal */\nexport const ActionsContext = React.createContext<TLUiActionsContextType | null>(null)\n\n/** @public */\nexport interface ActionsProviderProps {\n\toverrides?: (\n\t\teditor: Editor,\n\t\tactions: TLUiActionsContextType,\n\t\thelpers: undefined\n\t) => TLUiActionsContextType\n\tchildren: React.ReactNode\n}\n\nfunction makeActions(actions: TLUiActionItem[]) {\n\treturn Object.fromEntries(actions.map((action) => [action.id, action])) as TLUiActionsContextType\n}\n\nfunction getExportName(editor: Editor, defaultName: string) {\n\tconst selectedShapes = editor.getSelectedShapes()\n\t// When we don't have any shapes selected, we want to use the document name\n\tif (selectedShapes.length === 0) {\n\t\treturn editor.getDocumentSettings().name || defaultName\n\t}\n\treturn undefined\n}\n\n/** @internal */\nexport function ActionsProvider({ overrides, children }: ActionsProviderProps) {\n\tconst editor = useEditor()\n\n\tconst { addDialog, clearDialogs } = useDialogs()\n\tconst { clearToasts } = useToasts()\n\tconst msg = useTranslation()\n\n\tconst insertMedia = useInsertMedia()\n\tconst printSelectionOrPages = usePrint()\n\tconst { cut, copy, paste } = useMenuClipboardEvents()\n\tconst copyAs = useCopyAs()\n\tconst exportAs = useExportAs()\n\tconst defaultDocumentName = msg('document.default-name')\n\n\tconst trackEvent = useUiEvents()\n\n\t// should this be a useMemo? looks like it doesn't actually deref any reactive values\n\tconst actions = React.useMemo<TLUiActionsContextType>(() => {\n\t\tfunction mustGoBackToSelectToolFirst() {\n\t\t\tif (!editor.isIn('select')) {\n\t\t\t\teditor.complete()\n\t\t\t\teditor.setCurrentTool('select')\n\t\t\t\treturn false // false will still let the action happen, true will stop it\n\t\t\t\t// todo: remove this return value once we're suuuuure\n\t\t\t}\n\n\t\t\treturn false\n\t\t}\n\n\t\tfunction canApplySelectionAction() {\n\t\t\treturn editor.isIn('select') && editor.getSelectedShapeIds().length > 0\n\t\t}\n\n\t\tconst actionItems: TLUiActionItem<TLUiTranslationKey, TLUiIconType>[] = [\n\t\t\t{\n\t\t\t\tid: 'edit-link',\n\t\t\t\tlabel: 'action.edit-link',\n\t\t\t\ticon: 'link',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('edit-link', { source })\n\t\t\t\t\teditor.mark('edit-link')\n\t\t\t\t\taddDialog({ component: EditLinkDialog })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'insert-embed',\n\t\t\t\tlabel: 'action.insert-embed',\n\t\t\t\tkbd: '$i',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('insert-embed', { source })\n\t\t\t\t\taddDialog({ component: EmbedDialog })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'insert-media',\n\t\t\t\tlabel: 'action.insert-media',\n\t\t\t\tkbd: '$u',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('insert-media', { source })\n\t\t\t\t\tinsertMedia()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'undo',\n\t\t\t\tlabel: 'action.undo',\n\t\t\t\ticon: 'undo',\n\t\t\t\tkbd: '$z',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('undo', { source })\n\t\t\t\t\teditor.undo()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'redo',\n\t\t\t\tlabel: 'action.redo',\n\t\t\t\ticon: 'redo',\n\t\t\t\tkbd: '$!z',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('redo', { source })\n\t\t\t\t\teditor.redo()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'export-as-svg',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.export-as-svg',\n\t\t\t\t\tmenu: 'action.export-as-svg.short',\n\t\t\t\t\t['context-menu']: 'action.export-as-svg.short',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tlet ids = editor.getSelectedShapeIds()\n\t\t\t\t\tif (ids.length === 0) ids = Array.from(editor.getCurrentPageShapeIds().values())\n\t\t\t\t\tif (ids.length === 0) return\n\t\t\t\t\ttrackEvent('export-as', { format: 'svg', source })\n\t\t\t\t\texportAs(ids, 'svg', getExportName(editor, defaultDocumentName))\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'export-as-png',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.export-as-png',\n\t\t\t\t\tmenu: 'action.export-as-png.short',\n\t\t\t\t\t['context-menu']: 'action.export-as-png.short',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tlet ids = editor.getSelectedShapeIds()\n\t\t\t\t\tif (ids.length === 0) ids = Array.from(editor.getCurrentPageShapeIds().values())\n\t\t\t\t\tif (ids.length === 0) return\n\t\t\t\t\ttrackEvent('export-as', { format: 'png', source })\n\t\t\t\t\texportAs(ids, 'png', getExportName(editor, defaultDocumentName))\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'export-as-json',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.export-as-json',\n\t\t\t\t\tmenu: 'action.export-as-json.short',\n\t\t\t\t\t['context-menu']: 'action.export-as-json.short',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tlet ids = editor.getSelectedShapeIds()\n\t\t\t\t\tif (ids.length === 0) ids = Array.from(editor.getCurrentPageShapeIds().values())\n\t\t\t\t\tif (ids.length === 0) return\n\t\t\t\t\ttrackEvent('export-as', { format: 'json', source })\n\t\t\t\t\texportAs(ids, 'json', getExportName(editor, defaultDocumentName))\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'export-all-as-svg',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.export-all-as-svg',\n\t\t\t\t\tmenu: 'action.export-all-as-svg.short',\n\t\t\t\t\t['context-menu']: 'action.export-all-as-svg.short',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tlet ids = editor.getSelectedShapeIds()\n\t\t\t\t\tif (ids.length === 0) ids = Array.from(editor.getCurrentPageShapeIds().values())\n\t\t\t\t\tif (ids.length === 0) return\n\t\t\t\t\ttrackEvent('export-all-as', { format: 'svg', source })\n\t\t\t\t\texportAs(\n\t\t\t\t\t\tArray.from(editor.getCurrentPageShapeIds()),\n\t\t\t\t\t\t'svg',\n\t\t\t\t\t\tgetExportName(editor, defaultDocumentName)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'export-all-as-png',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.export-all-as-png',\n\t\t\t\t\tmenu: 'action.export-all-as-png.short',\n\t\t\t\t\t['context-menu']: 'action.export-all-as-png.short',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tconst ids = Array.from(editor.getCurrentPageShapeIds().values())\n\t\t\t\t\tif (ids.length === 0) return\n\t\t\t\t\ttrackEvent('export-all-as', { format: 'png', source })\n\t\t\t\t\texportAs(ids, 'png', getExportName(editor, defaultDocumentName))\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'export-all-as-json',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.export-all-as-json',\n\t\t\t\t\tmenu: 'action.export-all-as-json.short',\n\t\t\t\t\t['context-menu']: 'action.export-all-as-json.short',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tconst ids = Array.from(editor.getCurrentPageShapeIds().values())\n\t\t\t\t\tif (ids.length === 0) return\n\t\t\t\t\ttrackEvent('export-all-as', { format: 'json', source })\n\t\t\t\t\texportAs(ids, 'json', getExportName(editor, defaultDocumentName))\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'copy-as-svg',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.copy-as-svg',\n\t\t\t\t\tmenu: 'action.copy-as-svg.short',\n\t\t\t\t\t['context-menu']: 'action.copy-as-svg.short',\n\t\t\t\t},\n\t\t\t\tkbd: '$!c',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tlet ids = editor.getSelectedShapeIds()\n\t\t\t\t\tif (ids.length === 0) ids = Array.from(editor.getCurrentPageShapeIds().values())\n\t\t\t\t\tif (ids.length === 0) return\n\t\t\t\t\ttrackEvent('copy-as', { format: 'svg', source })\n\t\t\t\t\tcopyAs(ids, 'svg')\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'copy-as-png',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.copy-as-png',\n\t\t\t\t\tmenu: 'action.copy-as-png.short',\n\t\t\t\t\t['context-menu']: 'action.copy-as-png.short',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tlet ids = editor.getSelectedShapeIds()\n\t\t\t\t\tif (ids.length === 0) ids = Array.from(editor.getCurrentPageShapeIds().values())\n\t\t\t\t\tif (ids.length === 0) return\n\t\t\t\t\ttrackEvent('copy-as', { format: 'png', source })\n\t\t\t\t\tcopyAs(ids, 'png')\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'copy-as-json',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.copy-as-json',\n\t\t\t\t\tmenu: 'action.copy-as-json.short',\n\t\t\t\t\t['context-menu']: 'action.copy-as-json.short',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tlet ids = editor.getSelectedShapeIds()\n\t\t\t\t\tif (ids.length === 0) ids = Array.from(editor.getCurrentPageShapeIds().values())\n\t\t\t\t\tif (ids.length === 0) return\n\t\t\t\t\ttrackEvent('copy-as', { format: 'json', source })\n\t\t\t\t\tcopyAs(ids, 'json')\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-auto-size',\n\t\t\t\tlabel: 'action.toggle-auto-size',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('toggle-auto-size', { source })\n\t\t\t\t\teditor.mark('toggling auto size')\n\t\t\t\t\tconst shapes = editor\n\t\t\t\t\t\t.getSelectedShapes()\n\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t(shape): shape is TLTextShape =>\n\t\t\t\t\t\t\t\teditor.isShapeOfType<TLTextShape>(shape, 'text') && shape.props.autoSize === false\n\t\t\t\t\t\t)\n\t\t\t\t\teditor.updateShapes(\n\t\t\t\t\t\tshapes.map((shape) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: shape.id,\n\t\t\t\t\t\t\t\ttype: shape.type,\n\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t...shape.props,\n\t\t\t\t\t\t\t\t\tw: 8,\n\t\t\t\t\t\t\t\t\tautoSize: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t\tkickoutOccludedShapes(\n\t\t\t\t\t\teditor,\n\t\t\t\t\t\tshapes.map((shape) => shape.id)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'open-embed-link',\n\t\t\t\tlabel: 'action.open-embed-link',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('open-embed-link', { source })\n\t\t\t\t\tconst ids = editor.getSelectedShapeIds()\n\t\t\t\t\tconst warnMsg = 'No embed shapes selected'\n\t\t\t\t\tif (ids.length !== 1) {\n\t\t\t\t\t\tconsole.error(warnMsg)\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tconst shape = editor.getShape(ids[0])\n\t\t\t\t\tif (!shape || !editor.isShapeOfType<TLEmbedShape>(shape, 'embed')) {\n\t\t\t\t\t\tconsole.error(warnMsg)\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\topenWindow(shape.props.url, '_blank')\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'select-zoom-tool',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tkbd: 'z',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (editor.root.getCurrent()?.id === 'zoom') return\n\n\t\t\t\t\ttrackEvent('zoom-tool', { source })\n\t\t\t\t\tif (!(editor.inputs.shiftKey || editor.inputs.ctrlKey)) {\n\t\t\t\t\t\tconst currentTool = editor.root.getCurrent()\n\t\t\t\t\t\tif (currentTool && currentTool.getCurrent()?.id === 'idle') {\n\t\t\t\t\t\t\teditor.setCurrentTool('zoom', { onInteractionEnd: currentTool.id, maskAs: 'zoom' })\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'convert-to-bookmark',\n\t\t\t\tlabel: 'action.convert-to-bookmark',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\teditor.batch(() => {\n\t\t\t\t\t\ttrackEvent('convert-to-bookmark', { source })\n\t\t\t\t\t\tconst shapes = editor.getSelectedShapes()\n\n\t\t\t\t\t\tconst createList: TLShapePartial[] = []\n\t\t\t\t\t\tconst deleteList: TLShapeId[] = []\n\t\t\t\t\t\tfor (const shape of shapes) {\n\t\t\t\t\t\t\tif (!shape || !editor.isShapeOfType<TLEmbedShape>(shape, 'embed') || !shape.props.url)\n\t\t\t\t\t\t\t\tcontinue\n\n\t\t\t\t\t\t\tconst newPos = new Vec(shape.x, shape.y)\n\t\t\t\t\t\t\tnewPos.rot(-shape.rotation)\n\t\t\t\t\t\t\tnewPos.add(new Vec(shape.props.w / 2 - 300 / 2, shape.props.h / 2 - 320 / 2)) // see bookmark shape util\n\t\t\t\t\t\t\tnewPos.rot(shape.rotation)\n\t\t\t\t\t\t\tconst partial: TLShapePartial<TLBookmarkShape> = {\n\t\t\t\t\t\t\t\tid: createShapeId(),\n\t\t\t\t\t\t\t\ttype: 'bookmark',\n\t\t\t\t\t\t\t\trotation: shape.rotation,\n\t\t\t\t\t\t\t\tx: newPos.x,\n\t\t\t\t\t\t\t\ty: newPos.y,\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\turl: shape.props.url,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcreateList.push(partial)\n\t\t\t\t\t\t\tdeleteList.push(shape.id)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\teditor.mark('convert shapes to bookmark')\n\t\t\t\t\t\teditor.deleteShapes(deleteList)\n\t\t\t\t\t\teditor.createShapes(createList)\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'convert-to-embed',\n\t\t\t\tlabel: 'action.convert-to-embed',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('convert-to-embed', { source })\n\n\t\t\t\t\teditor.batch(() => {\n\t\t\t\t\t\tconst ids = editor.getSelectedShapeIds()\n\t\t\t\t\t\tconst shapes = compact(ids.map((id) => editor.getShape(id)))\n\n\t\t\t\t\t\tconst createList: TLShapePartial[] = []\n\t\t\t\t\t\tconst deleteList: TLShapeId[] = []\n\t\t\t\t\t\tfor (const shape of shapes) {\n\t\t\t\t\t\t\tif (!editor.isShapeOfType<TLBookmarkShape>(shape, 'bookmark')) continue\n\n\t\t\t\t\t\t\tconst { url } = shape.props\n\n\t\t\t\t\t\t\tconst embedInfo = getEmbedInfo(shape.props.url)\n\n\t\t\t\t\t\t\tif (!embedInfo) continue\n\t\t\t\t\t\t\tif (!embedInfo.definition) continue\n\n\t\t\t\t\t\t\tconst { width, height } = embedInfo.definition\n\n\t\t\t\t\t\t\tconst newPos = new Vec(shape.x, shape.y)\n\t\t\t\t\t\t\tnewPos.rot(-shape.rotation)\n\t\t\t\t\t\t\tnewPos.add(new Vec(shape.props.w / 2 - width / 2, shape.props.h / 2 - height / 2))\n\t\t\t\t\t\t\tnewPos.rot(shape.rotation)\n\n\t\t\t\t\t\t\tconst shapeToCreate: TLShapePartial<TLEmbedShape> = {\n\t\t\t\t\t\t\t\tid: createShapeId(),\n\t\t\t\t\t\t\t\ttype: 'embed',\n\t\t\t\t\t\t\t\tx: newPos.x,\n\t\t\t\t\t\t\t\ty: newPos.y,\n\t\t\t\t\t\t\t\trotation: shape.rotation,\n\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\t\t\tw: width,\n\t\t\t\t\t\t\t\t\th: height,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcreateList.push(shapeToCreate)\n\t\t\t\t\t\t\tdeleteList.push(shape.id)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\teditor.mark('convert shapes to embed')\n\t\t\t\t\t\teditor.deleteShapes(deleteList)\n\t\t\t\t\t\teditor.createShapes(createList)\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'duplicate',\n\t\t\t\tkbd: '$d',\n\t\t\t\tlabel: 'action.duplicate',\n\t\t\t\ticon: 'duplicate',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('duplicate-shapes', { source })\n\t\t\t\t\tconst instanceState = editor.getInstanceState()\n\t\t\t\t\tlet ids: TLShapeId[]\n\t\t\t\t\tlet offset: { x: number; y: number }\n\n\t\t\t\t\tif (instanceState.duplicateProps) {\n\t\t\t\t\t\tids = instanceState.duplicateProps.shapeIds\n\t\t\t\t\t\toffset = instanceState.duplicateProps.offset\n\t\t\t\t\t} else {\n\t\t\t\t\t\tids = editor.getSelectedShapeIds()\n\t\t\t\t\t\tconst commonBounds = Box.Common(compact(ids.map((id) => editor.getShapePageBounds(id))))\n\t\t\t\t\t\toffset = !editor.getCameraOptions().isLocked\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tx: commonBounds.width + 20,\n\t\t\t\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t// same as the adjacent note margin\n\t\t\t\t\t\t\t\t\tx: 20,\n\t\t\t\t\t\t\t\t\ty: 20,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\teditor.mark('duplicate shapes')\n\t\t\t\t\teditor.duplicateShapes(ids, offset)\n\n\t\t\t\t\tif (instanceState.duplicateProps) {\n\t\t\t\t\t\t// If we are using duplicate props then we update the shape ids to the\n\t\t\t\t\t\t// ids of the newly created shapes to keep the duplication going\n\t\t\t\t\t\teditor.updateInstanceState({\n\t\t\t\t\t\t\tduplicateProps: {\n\t\t\t\t\t\t\t\t...instanceState.duplicateProps,\n\t\t\t\t\t\t\t\tshapeIds: editor.getSelectedShapeIds(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'ungroup',\n\t\t\t\tlabel: 'action.ungroup',\n\t\t\t\tkbd: '$!g',\n\t\t\t\ticon: 'ungroup',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('ungroup-shapes', { source })\n\t\t\t\t\teditor.mark('ungroup')\n\t\t\t\t\teditor.ungroupShapes(editor.getSelectedShapeIds())\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'group',\n\t\t\t\tlabel: 'action.group',\n\t\t\t\tkbd: '$g',\n\t\t\t\ticon: 'group',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('group-shapes', { source })\n\t\t\t\t\tconst onlySelectedShape = editor.getOnlySelectedShape()\n\t\t\t\t\tif (onlySelectedShape && editor.isShapeOfType<TLGroupShape>(onlySelectedShape, 'group')) {\n\t\t\t\t\t\teditor.mark('ungroup')\n\t\t\t\t\t\teditor.ungroupShapes(editor.getSelectedShapeIds())\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor.mark('group')\n\t\t\t\t\t\teditor.groupShapes(editor.getSelectedShapeIds())\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'remove-frame',\n\t\t\t\tlabel: 'action.remove-frame',\n\t\t\t\tkbd: '$!f',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\n\t\t\t\t\ttrackEvent('remove-frame', { source })\n\t\t\t\t\tconst selectedShapes = editor.getSelectedShapes()\n\t\t\t\t\tif (\n\t\t\t\t\t\tselectedShapes.length > 0 &&\n\t\t\t\t\t\tselectedShapes.every((shape) => editor.isShapeOfType<TLFrameShape>(shape, 'frame'))\n\t\t\t\t\t) {\n\t\t\t\t\t\teditor.mark('remove-frame')\n\t\t\t\t\t\tremoveFrame(\n\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\tselectedShapes.map((shape) => shape.id)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'fit-frame-to-content',\n\t\t\t\tlabel: 'action.fit-frame-to-content',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\n\t\t\t\t\ttrackEvent('fit-frame-to-content', { source })\n\t\t\t\t\tconst onlySelectedShape = editor.getOnlySelectedShape()\n\t\t\t\t\tif (onlySelectedShape && editor.isShapeOfType<TLFrameShape>(onlySelectedShape, 'frame')) {\n\t\t\t\t\t\teditor.mark('fit-frame-to-content')\n\t\t\t\t\t\tfitFrameToContent(editor, onlySelectedShape.id)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'align-left',\n\t\t\t\tlabel: 'action.align-left',\n\t\t\t\tkbd: '?A',\n\t\t\t\ticon: 'align-left',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('align-shapes', { operation: 'left', source })\n\t\t\t\t\teditor.mark('align left')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.alignShapes(selectedShapeIds, 'left')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'align-center-horizontal',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.align-center-horizontal',\n\t\t\t\t\t['context-menu']: 'action.align-center-horizontal.short',\n\t\t\t\t},\n\t\t\t\tkbd: '?H',\n\t\t\t\ticon: 'align-center-horizontal',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('align-shapes', { operation: 'center-horizontal', source })\n\t\t\t\t\teditor.mark('align center horizontal')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.alignShapes(selectedShapeIds, 'center-horizontal')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'align-right',\n\t\t\t\tlabel: 'action.align-right',\n\t\t\t\tkbd: '?D',\n\t\t\t\ticon: 'align-right',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('align-shapes', { operation: 'right', source })\n\t\t\t\t\teditor.mark('align right')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.alignShapes(selectedShapeIds, 'right')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'align-center-vertical',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.align-center-vertical',\n\t\t\t\t\t['context-menu']: 'action.align-center-vertical.short',\n\t\t\t\t},\n\t\t\t\tkbd: '?V',\n\t\t\t\ticon: 'align-center-vertical',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('align-shapes', { operation: 'center-vertical', source })\n\t\t\t\t\teditor.mark('align center vertical')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.alignShapes(selectedShapeIds, 'center-vertical')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'align-top',\n\t\t\t\tlabel: 'action.align-top',\n\t\t\t\ticon: 'align-top',\n\t\t\t\tkbd: '?W',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('align-shapes', { operation: 'top', source })\n\t\t\t\t\teditor.mark('align top')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.alignShapes(selectedShapeIds, 'top')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'align-bottom',\n\t\t\t\tlabel: 'action.align-bottom',\n\t\t\t\ticon: 'align-bottom',\n\t\t\t\tkbd: '?S',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('align-shapes', { operation: 'bottom', source })\n\t\t\t\t\teditor.mark('align bottom')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.alignShapes(selectedShapeIds, 'bottom')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'distribute-horizontal',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.distribute-horizontal',\n\t\t\t\t\t['context-menu']: 'action.distribute-horizontal.short',\n\t\t\t\t},\n\t\t\t\ticon: 'distribute-horizontal',\n\t\t\t\tkbd: '?!h',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('distribute-shapes', { operation: 'horizontal', source })\n\t\t\t\t\teditor.mark('distribute horizontal')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.distributeShapes(selectedShapeIds, 'horizontal')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'distribute-vertical',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.distribute-vertical',\n\t\t\t\t\t['context-menu']: 'action.distribute-vertical.short',\n\t\t\t\t},\n\t\t\t\ticon: 'distribute-vertical',\n\t\t\t\tkbd: '?!V',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('distribute-shapes', { operation: 'vertical', source })\n\t\t\t\t\teditor.mark('distribute vertical')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.distributeShapes(selectedShapeIds, 'vertical')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'stretch-horizontal',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.stretch-horizontal',\n\t\t\t\t\t['context-menu']: 'action.stretch-horizontal.short',\n\t\t\t\t},\n\t\t\t\ticon: 'stretch-horizontal',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('stretch-shapes', { operation: 'horizontal', source })\n\t\t\t\t\teditor.mark('stretch horizontal')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.stretchShapes(selectedShapeIds, 'horizontal')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'stretch-vertical',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.stretch-vertical',\n\t\t\t\t\t['context-menu']: 'action.stretch-vertical.short',\n\t\t\t\t},\n\t\t\t\ticon: 'stretch-vertical',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('stretch-shapes', { operation: 'vertical', source })\n\t\t\t\t\teditor.mark('stretch vertical')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.stretchShapes(selectedShapeIds, 'vertical')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'flip-horizontal',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.flip-horizontal',\n\t\t\t\t\t['context-menu']: 'action.flip-horizontal.short',\n\t\t\t\t},\n\t\t\t\tkbd: '!h',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('flip-shapes', { operation: 'horizontal', source })\n\t\t\t\t\teditor.mark('flip horizontal')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.flipShapes(selectedShapeIds, 'horizontal')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'flip-vertical',\n\t\t\t\tlabel: { default: 'action.flip-vertical', ['context-menu']: 'action.flip-vertical.short' },\n\t\t\t\tkbd: '!v',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('flip-shapes', { operation: 'vertical', source })\n\t\t\t\t\teditor.mark('flip vertical')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.flipShapes(selectedShapeIds, 'vertical')\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'pack',\n\t\t\t\tlabel: 'action.pack',\n\t\t\t\ticon: 'pack',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('pack-shapes', { source })\n\t\t\t\t\teditor.mark('pack')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.packShapes(selectedShapeIds, editor.options.adjacentShapeMargin)\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'stack-vertical',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.stack-vertical',\n\t\t\t\t\t['context-menu']: 'action.stack-vertical.short',\n\t\t\t\t},\n\t\t\t\ticon: 'stack-vertical',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('stack-shapes', { operation: 'vertical', source })\n\t\t\t\t\teditor.mark('stack-vertical')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.stackShapes(selectedShapeIds, 'vertical', 16)\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'stack-horizontal',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.stack-horizontal',\n\t\t\t\t\t['context-menu']: 'action.stack-horizontal.short',\n\t\t\t\t},\n\t\t\t\ticon: 'stack-horizontal',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('stack-shapes', { operation: 'horizontal', source })\n\t\t\t\t\teditor.mark('stack-horizontal')\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.stackShapes(selectedShapeIds, 'horizontal', 16)\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'bring-to-front',\n\t\t\t\tlabel: 'action.bring-to-front',\n\t\t\t\tkbd: ']',\n\t\t\t\ticon: 'bring-to-front',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('reorder-shapes', { operation: 'toFront', source })\n\t\t\t\t\teditor.mark('bring to front')\n\t\t\t\t\teditor.bringToFront(editor.getSelectedShapeIds())\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'bring-forward',\n\t\t\t\tlabel: 'action.bring-forward',\n\t\t\t\ticon: 'bring-forward',\n\t\t\t\tkbd: '?]',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('reorder-shapes', { operation: 'forward', source })\n\t\t\t\t\teditor.mark('bring forward')\n\t\t\t\t\teditor.bringForward(editor.getSelectedShapeIds())\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'send-backward',\n\t\t\t\tlabel: 'action.send-backward',\n\t\t\t\ticon: 'send-backward',\n\t\t\t\tkbd: '?[',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('reorder-shapes', { operation: 'backward', source })\n\t\t\t\t\teditor.mark('send backward')\n\t\t\t\t\teditor.sendBackward(editor.getSelectedShapeIds())\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'send-to-back',\n\t\t\t\tlabel: 'action.send-to-back',\n\t\t\t\ticon: 'send-to-back',\n\t\t\t\tkbd: '[',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('reorder-shapes', { operation: 'toBack', source })\n\t\t\t\t\teditor.mark('send to back')\n\t\t\t\t\teditor.sendToBack(editor.getSelectedShapeIds())\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'cut',\n\t\t\t\tlabel: 'action.cut',\n\t\t\t\tkbd: '$x',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\teditor.mark('cut')\n\t\t\t\t\tcut(source)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'copy',\n\t\t\t\tlabel: 'action.copy',\n\t\t\t\tkbd: '$c',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\tcopy(source)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'paste',\n\t\t\t\tlabel: 'action.paste',\n\t\t\t\tkbd: '$v',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tnavigator.clipboard?.read().then((clipboardItems) => {\n\t\t\t\t\t\tpaste(\n\t\t\t\t\t\t\tclipboardItems,\n\t\t\t\t\t\t\tsource,\n\t\t\t\t\t\t\tsource === 'context-menu' ? editor.inputs.currentPagePoint : undefined\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'select-all',\n\t\t\t\tlabel: 'action.select-all',\n\t\t\t\tkbd: '$a',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\teditor.batch(() => {\n\t\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\t\ttrackEvent('select-all-shapes', { source })\n\n\t\t\t\t\t\teditor.mark('select all kbd')\n\t\t\t\t\t\teditor.selectAll()\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'select-none',\n\t\t\t\tlabel: 'action.select-none',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('select-none-shapes', { source })\n\t\t\t\t\teditor.mark('select none')\n\t\t\t\t\teditor.selectNone()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'delete',\n\t\t\t\tlabel: 'action.delete',\n\t\t\t\tkbd: '\u232B,del,backspace',\n\t\t\t\ticon: 'trash',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('delete-shapes', { source })\n\t\t\t\t\teditor.mark('delete')\n\t\t\t\t\teditor.deleteShapes(editor.getSelectedShapeIds())\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'rotate-cw',\n\t\t\t\tlabel: 'action.rotate-cw',\n\t\t\t\ticon: 'rotate-cw',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('rotate-cw', { source })\n\t\t\t\t\teditor.mark('rotate-cw')\n\t\t\t\t\tconst offset = editor.getSelectionRotation() % (HALF_PI / 2)\n\t\t\t\t\tconst dontUseOffset = approximately(offset, 0) || approximately(offset, HALF_PI / 2)\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.rotateShapesBy(selectedShapeIds, HALF_PI / 2 - (dontUseOffset ? 0 : offset))\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'rotate-ccw',\n\t\t\t\tlabel: 'action.rotate-ccw',\n\t\t\t\ticon: 'rotate-ccw',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('rotate-ccw', { source })\n\t\t\t\t\teditor.mark('rotate-ccw')\n\t\t\t\t\tconst offset = editor.getSelectionRotation() % (HALF_PI / 2)\n\t\t\t\t\tconst offsetCloseToZero = approximately(offset, 0)\n\t\t\t\t\tconst selectedShapeIds = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.rotateShapesBy(selectedShapeIds, offsetCloseToZero ? -(HALF_PI / 2) : -offset)\n\t\t\t\t\tkickoutOccludedShapes(editor, selectedShapeIds)\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'zoom-in',\n\t\t\t\tlabel: 'action.zoom-in',\n\t\t\t\tkbd: '$=,=',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('zoom-in', { source })\n\t\t\t\t\teditor.zoomIn(undefined, {\n\t\t\t\t\t\tanimation: { duration: editor.options.animationMediumMs },\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'zoom-out',\n\t\t\t\tlabel: 'action.zoom-out',\n\t\t\t\tkbd: '$-,-',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('zoom-out', { source })\n\t\t\t\t\teditor.zoomOut(undefined, {\n\t\t\t\t\t\tanimation: { duration: editor.options.animationMediumMs },\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'zoom-to-100',\n\t\t\t\tlabel: 'action.zoom-to-100',\n\t\t\t\ticon: 'reset-zoom',\n\t\t\t\tkbd: '!0',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('reset-zoom', { source })\n\t\t\t\t\teditor.resetZoom(undefined, {\n\t\t\t\t\t\tanimation: { duration: editor.options.animationMediumMs },\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'zoom-to-fit',\n\t\t\t\tlabel: 'action.zoom-to-fit',\n\t\t\t\tkbd: '!1',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('zoom-to-fit', { source })\n\t\t\t\t\teditor.zoomToFit({ animation: { duration: editor.options.animationMediumMs } })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'zoom-to-selection',\n\t\t\t\tlabel: 'action.zoom-to-selection',\n\t\t\t\tkbd: '!2',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tif (!canApplySelectionAction()) return\n\t\t\t\t\tif (mustGoBackToSelectToolFirst()) return\n\n\t\t\t\t\ttrackEvent('zoom-to-selection', { source })\n\t\t\t\t\teditor.zoomToSelection({ animation: { duration: editor.options.animationMediumMs } })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-snap-mode',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-snap-mode',\n\t\t\t\t\tmenu: 'action.toggle-snap-mode.menu',\n\t\t\t\t},\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('toggle-snap-mode', { source })\n\t\t\t\t\teditor.user.updateUserPreferences({ isSnapMode: !editor.user.getIsSnapMode() })\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-dark-mode',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-dark-mode',\n\t\t\t\t\tmenu: 'action.toggle-dark-mode.menu',\n\t\t\t\t},\n\t\t\t\tkbd: '$/',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tconst value = editor.user.getIsDarkMode() ? 'light' : 'dark'\n\t\t\t\t\ttrackEvent('color-scheme', { source, value })\n\t\t\t\t\teditor.user.updateUserPreferences({\n\t\t\t\t\t\tcolorScheme: value,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-wrap-mode',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-wrap-mode',\n\t\t\t\t\tmenu: 'action.toggle-wrap-mode.menu',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('toggle-wrap-mode', { source })\n\t\t\t\t\teditor.user.updateUserPreferences({\n\t\t\t\t\t\tisWrapMode: !editor.user.getIsWrapMode(),\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-dynamic-size-mode',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-dynamic-size-mode',\n\t\t\t\t\tmenu: 'action.toggle-dynamic-size-mode.menu',\n\t\t\t\t},\n\t\t\t\treadonlyOk: false,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('toggle-dynamic-size-mode', { source })\n\t\t\t\t\teditor.user.updateUserPreferences({\n\t\t\t\t\t\tisDynamicSizeMode: !editor.user.getIsDynamicResizeMode(),\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-reduce-motion',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-reduce-motion',\n\t\t\t\t\tmenu: 'action.toggle-reduce-motion.menu',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('toggle-reduce-motion', { source })\n\t\t\t\t\teditor.user.updateUserPreferences({\n\t\t\t\t\t\tanimationSpeed: editor.user.getAnimationSpeed() === 0 ? 1 : 0,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-edge-scrolling',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-edge-scrolling',\n\t\t\t\t\tmenu: 'action.toggle-edge-scrolling.menu',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('toggle-edge-scrolling', { source })\n\t\t\t\t\teditor.user.updateUserPreferences({\n\t\t\t\t\t\tedgeScrollSpeed: editor.user.getEdgeScrollSpeed() === 0 ? 1 : 0,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-transparent',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-transparent',\n\t\t\t\t\tmenu: 'action.toggle-transparent.menu',\n\t\t\t\t\t['context-menu']: 'action.toggle-transparent.context-menu',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('toggle-transparent', { source })\n\t\t\t\t\teditor.updateInstanceState({\n\t\t\t\t\t\texportBackground: !editor.getInstanceState().exportBackground,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-tool-lock',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-tool-lock',\n\t\t\t\t\tmenu: 'action.toggle-tool-lock.menu',\n\t\t\t\t},\n\t\t\t\tkbd: 'q',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('toggle-tool-lock', { source })\n\t\t\t\t\teditor.updateInstanceState({ isToolLocked: !editor.getInstanceState().isToolLocked })\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'unlock-all',\n\t\t\t\tlabel: 'action.unlock-all',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('unlock-all', { source })\n\t\t\t\t\tconst updates = [] as TLShapePartial[]\n\t\t\t\t\tfor (const shape of editor.getCurrentPageShapes()) {\n\t\t\t\t\t\tif (shape.isLocked) {\n\t\t\t\t\t\t\tupdates.push({ id: shape.id, type: shape.type, isLocked: false })\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (updates.length > 0) {\n\t\t\t\t\t\teditor.updateShapes(updates)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-focus-mode',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-focus-mode',\n\t\t\t\t\tmenu: 'action.toggle-focus-mode.menu',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tkbd: '$.',\n\t\t\t\tcheckbox: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\t// this needs to be deferred because it causes the menu\n\t\t\t\t\t// UI to unmount which puts us in a dodgy state\n\t\t\t\t\teditor.timers.requestAnimationFrame(() => {\n\t\t\t\t\t\teditor.batch(() => {\n\t\t\t\t\t\t\ttrackEvent('toggle-focus-mode', { source })\n\t\t\t\t\t\t\tclearDialogs()\n\t\t\t\t\t\t\tclearToasts()\n\t\t\t\t\t\t\teditor.updateInstanceState({ isFocusMode: !editor.getInstanceState().isFocusMode })\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-grid',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-grid',\n\t\t\t\t\tmenu: 'action.toggle-grid.menu',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tkbd: \"$'\",\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('toggle-grid-mode', { source })\n\t\t\t\t\teditor.updateInstanceState({ isGridMode: !editor.getInstanceState().isGridMode })\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-debug-mode',\n\t\t\t\tlabel: {\n\t\t\t\t\tdefault: 'action.toggle-debug-mode',\n\t\t\t\t\tmenu: 'action.toggle-debug-mode.menu',\n\t\t\t\t},\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('toggle-debug-mode', { source })\n\t\t\t\t\teditor.updateInstanceState({\n\t\t\t\t\t\tisDebugMode: !editor.getInstanceState().isDebugMode,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcheckbox: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'print',\n\t\t\t\tlabel: 'action.print',\n\t\t\t\tkbd: '$p',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('print', { source })\n\t\t\t\t\tprintSelectionOrPages()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'exit-pen-mode',\n\t\t\t\tlabel: 'action.exit-pen-mode',\n\t\t\t\ticon: 'cross-2',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('exit-pen-mode', { source })\n\t\t\t\t\teditor.updateInstanceState({ isPenMode: false })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'stop-following',\n\t\t\t\tlabel: 'action.stop-following',\n\t\t\t\ticon: 'cross-2',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('stop-following', { source })\n\t\t\t\t\teditor.stopFollowingUser()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'back-to-content',\n\t\t\t\tlabel: 'action.back-to-content',\n\t\t\t\ticon: 'arrow-left',\n\t\t\t\treadonlyOk: true,\n\t\t\t\tonSelect(source) {\n\t\t\t\t\ttrackEvent('zoom-to-content', { source })\n\t\t\t\t\tconst bounds = editor.getSelectionPageBounds() ?? editor.getCurrentPageBounds()\n\t\t\t\t\tif (!bounds) return\n\t\t\t\t\teditor.zoomToBounds(bounds, {\n\t\t\t\t\t\ttargetZoom: Math.min(1, editor.getZoomLevel()),\n\t\t\t\t\t\tanimation: { duration: 220 },\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'toggle-lock',\n\t\t\t\tlabel: 'action.toggle-lock',\n\t\t\t\tkbd: '!l',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\teditor.mark('locking')\n\t\t\t\t\ttrackEvent('toggle-lock', { source })\n\t\t\t\t\teditor.toggleLock(editor.getSelectedShapeIds())\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'new-page',\n\t\t\t\tlabel: 'context.pages.new-page',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tconst newPageId = PageRecordType.createId()\n\t\t\t\t\tconst ids = editor.getSelectedShapeIds()\n\t\t\t\t\teditor.batch(() => {\n\t\t\t\t\t\teditor.mark('move_shapes_to_page')\n\t\t\t\t\t\teditor.createPage({ name: msg('page-menu.new-page-initial-name'), id: newPageId })\n\t\t\t\t\t\teditor.moveShapesToPage(ids, newPageId)\n\t\t\t\t\t})\n\t\t\t\t\ttrackEvent('new-page', { source })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'select-white-color',\n\t\t\t\tlabel: 'color-style.white',\n\t\t\t\tkbd: '?t',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tconst style = DefaultColorStyle\n\t\t\t\t\teditor.batch(() => {\n\t\t\t\t\t\teditor.mark('change-color')\n\t\t\t\t\t\tif (editor.isIn('select')) {\n\t\t\t\t\t\t\teditor.setStyleForSelectedShapes(style, 'white')\n\t\t\t\t\t\t}\n\t\t\t\t\t\teditor.setStyleForNextShapes(style, 'white')\n\t\t\t\t\t})\n\t\t\t\t\ttrackEvent('set-style', { source, id: style.id, value: 'white' })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'select-fill-fill',\n\t\t\t\tlabel: 'fill-style.fill',\n\t\t\t\tkbd: '?f',\n\t\t\t\tonSelect(source) {\n\t\t\t\t\tconst style = DefaultFillStyle\n\t\t\t\t\teditor.batch(() => {\n\t\t\t\t\t\teditor.mark('change-fill')\n\t\t\t\t\t\tif (editor.isIn('select')) {\n\t\t\t\t\t\t\teditor.setStyleForSelectedShapes(style, 'fill')\n\t\t\t\t\t\t}\n\t\t\t\t\t\teditor.setStyleForNextShapes(style, 'fill')\n\t\t\t\t\t})\n\t\t\t\t\ttrackEvent('set-style', { source, id: style.id, value: 'fill' })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'flatten-to-image',\n\t\t\t\tlabel: 'action.flatten-to-image',\n\t\t\t\tkbd: '!f',\n\t\t\t\tonSelect: async (source) => {\n\t\t\t\t\tconst ids = editor.getSelectedShapeIds()\n\t\t\t\t\tif (ids.length === 0) return\n\n\t\t\t\t\teditor.mark('flattening to image')\n\t\t\t\t\ttrackEvent('flatten-to-image', { source })\n\n\t\t\t\t\tconst newShapeIds = await flattenShapesToImages(\n\t\t\t\t\t\teditor,\n\t\t\t\t\t\tids,\n\t\t\t\t\t\teditor.options.flattenImageBoundsExpand\n\t\t\t\t\t)\n\n\t\t\t\t\tif (newShapeIds?.length) {\n\t\t\t\t\t\teditor.setSelectedShapes(newShapeIds)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t]\n\n\t\tconst actions = makeActions(actionItems)\n\n\t\tif (overrides) {\n\t\t\treturn overrides(editor, actions, undefined)\n\t\t}\n\n\t\treturn actions\n\t}, [\n\t\teditor,\n\t\ttrackEvent,\n\t\toverrides,\n\t\taddDialog,\n\t\tinsertMedia,\n\t\texportAs,\n\t\tcopyAs,\n\t\tcut,\n\t\tcopy,\n\t\tpaste,\n\t\tclearDialogs,\n\t\tclearToasts,\n\t\tprintSelectionOrPages,\n\t\tmsg,\n\t\tdefaultDocumentName,\n\t])\n\n\treturn <ActionsContext.Provider value={asActions(actions)}>{children}</ActionsContext.Provider>\n}\n\n/** @public */\nexport function useActions() {\n\tconst ctx = React.useContext(ActionsContext)\n\n\tif (!ctx) {\n\t\tthrow new Error('useTools must be used within a ToolProvider')\n\t}\n\n\treturn ctx\n}\n\nfunction asActions<T extends Record<string, TLUiActionItem>>(actions: T) {\n\treturn actions as Record<keyof typeof actions, TLUiActionItem>\n}\n\n/** @public */\nexport function unwrapLabel(label?: TLUiActionItem['label'], menuType?: string) {\n\treturn label\n\t\t? typeof label === 'string'\n\t\t\t? label\n\t\t\t: menuType\n\t\t\t\t? label[menuType] ?? label['default']\n\t\t\t\t: undefined\n\t\t: undefined\n}\n"],
  "mappings": "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",
  "names": ["actions"]
}
