{
  "version": 3,
  "sources": ["../../../../../src/lib/ui/components/PageMenu/edit-pages-shared.ts"],
  "sourcesContent": ["import {\n\tEditor,\n\tgetIndexAbove,\n\tgetIndexBelow,\n\tgetIndexBetween,\n\tIndexKey,\n\tTLPageId,\n} from '@tldraw/editor'\n\nexport const onMovePage = (editor: Editor, id: TLPageId, from: number, to: number) => {\n\tlet index: IndexKey\n\n\tconst pages = editor.getPages()\n\n\tconst below = from > to ? pages[to - 1] : pages[to]\n\tconst above = from > to ? pages[to] : pages[to + 1]\n\n\tif (below && !above) {\n\t\tindex = getIndexAbove(below.index)\n\t} else if (!below && above) {\n\t\tindex = getIndexBelow(pages[0].index)\n\t} else {\n\t\tindex = getIndexBetween(below.index, above.index)\n\t}\n\n\tif (index !== pages[from].index) {\n\t\teditor.mark('moving page')\n\t\teditor.updatePage({\n\t\t\tid: id as TLPageId,\n\t\t\tindex,\n\t\t})\n\t}\n}\n"],
  "mappings": "AAAA;AAAA,EAEC;AAAA,EACA;AAAA,EACA;AAAA,OAGM;AAEA,MAAM,aAAa,CAAC,QAAgB,IAAc,MAAc,OAAe;AACrF,MAAI;AAEJ,QAAM,QAAQ,OAAO,SAAS;AAE9B,QAAM,QAAQ,OAAO,KAAK,MAAM,KAAK,CAAC,IAAI,MAAM,EAAE;AAClD,QAAM,QAAQ,OAAO,KAAK,MAAM,EAAE,IAAI,MAAM,KAAK,CAAC;AAElD,MAAI,SAAS,CAAC,OAAO;AACpB,YAAQ,cAAc,MAAM,KAAK;AAAA,EAClC,WAAW,CAAC,SAAS,OAAO;AAC3B,YAAQ,cAAc,MAAM,CAAC,EAAE,KAAK;AAAA,EACrC,OAAO;AACN,YAAQ,gBAAgB,MAAM,OAAO,MAAM,KAAK;AAAA,EACjD;AAEA,MAAI,UAAU,MAAM,IAAI,EAAE,OAAO;AAChC,WAAO,KAAK,aAAa;AACzB,WAAO,WAAW;AAAA,MACjB;AAAA,MACA;AAAA,IACD,CAAC;AAAA,EACF;AACD;",
  "names": []
}
