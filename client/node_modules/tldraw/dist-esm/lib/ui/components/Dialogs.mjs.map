{
  "version": 3,
  "sources": ["../../../../src/lib/ui/components/Dialogs.tsx"],
  "sourcesContent": ["import * as _Dialog from '@radix-ui/react-dialog'\nimport { useContainer } from '@tldraw/editor'\nimport React, { useCallback } from 'react'\nimport { TLUiDialog, useDialogs } from '../context/dialogs'\n\nconst Dialog = ({ id, component: ModalContent, onClose }: TLUiDialog) => {\n\tconst { removeDialog } = useDialogs()\n\n\tconst container = useContainer()\n\n\tconst handleOpenChange = useCallback(\n\t\t(isOpen: boolean) => {\n\t\t\tif (!isOpen) {\n\t\t\t\tif (onClose) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tonClose()\n\t\t\t\t\t} catch (err: any) {\n\t\t\t\t\t\tconsole.warn(err)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tremoveDialog(id)\n\t\t\t}\n\t\t},\n\t\t[id, onClose, removeDialog]\n\t)\n\n\treturn (\n\t\t<_Dialog.Root onOpenChange={handleOpenChange} defaultOpen>\n\t\t\t<_Dialog.Portal container={container}>\n\t\t\t\t<_Dialog.Overlay\n\t\t\t\t\tdir=\"ltr\"\n\t\t\t\t\tclassName=\"tlui-dialog__overlay\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t// only close if the click is on the overlay itself, ignore bubbling clicks\n\t\t\t\t\t\tif (e.target === e.currentTarget) handleOpenChange(false)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<_Dialog.Content dir=\"ltr\" className=\"tlui-dialog__content\">\n\t\t\t\t\t\t<ModalContent onClose={() => handleOpenChange(false)} />\n\t\t\t\t\t</_Dialog.Content>\n\t\t\t\t</_Dialog.Overlay>\n\t\t\t</_Dialog.Portal>\n\t\t</_Dialog.Root>\n\t)\n}\n\nfunction _Dialogs() {\n\tconst { dialogs } = useDialogs()\n\n\treturn (\n\t\t<>\n\t\t\t{dialogs.map((dialog: TLUiDialog) => (\n\t\t\t\t<Dialog key={dialog.id} {...dialog} />\n\t\t\t))}\n\t\t</>\n\t)\n}\n\nexport const Dialogs = React.memo(_Dialogs)\n"],
  "mappings": "AAsCM,SAYJ,UAZI;AAtCN,YAAY,aAAa;AACzB,SAAS,oBAAoB;AAC7B,OAAO,SAAS,mBAAmB;AACnC,SAAqB,kBAAkB;AAEvC,MAAM,SAAS,CAAC,EAAE,IAAI,WAAW,cAAc,QAAQ,MAAkB;AACxE,QAAM,EAAE,aAAa,IAAI,WAAW;AAEpC,QAAM,YAAY,aAAa;AAE/B,QAAM,mBAAmB;AAAA,IACxB,CAAC,WAAoB;AACpB,UAAI,CAAC,QAAQ;AACZ,YAAI,SAAS;AACZ,cAAI;AACH,oBAAQ;AAAA,UACT,SAAS,KAAU;AAClB,oBAAQ,KAAK,GAAG;AAAA,UACjB;AAAA,QACD;AACA,qBAAa,EAAE;AAAA,MAChB;AAAA,IACD;AAAA,IACA,CAAC,IAAI,SAAS,YAAY;AAAA,EAC3B;AAEA,SACC,oBAAC,QAAQ,MAAR,EAAa,cAAc,kBAAkB,aAAW,MACxD,8BAAC,QAAQ,QAAR,EAAe,WACf;AAAA,IAAC,QAAQ;AAAA,IAAR;AAAA,MACA,KAAI;AAAA,MACJ,WAAU;AAAA,MACV,SAAS,CAAC,MAAM;AAEf,YAAI,EAAE,WAAW,EAAE;AAAe,2BAAiB,KAAK;AAAA,MACzD;AAAA,MAEA,8BAAC,QAAQ,SAAR,EAAgB,KAAI,OAAM,WAAU,wBACpC,8BAAC,gBAAa,SAAS,MAAM,iBAAiB,KAAK,GAAG,GACvD;AAAA;AAAA,EACD,GACD,GACD;AAEF;AAEA,SAAS,WAAW;AACnB,QAAM,EAAE,QAAQ,IAAI,WAAW;AAE/B,SACC,gCACE,kBAAQ,IAAI,CAAC,WACb,oBAAC,UAAwB,GAAG,UAAf,OAAO,EAAgB,CACpC,GACF;AAEF;AAEO,MAAM,UAAU,MAAM,KAAK,QAAQ;",
  "names": []
}
