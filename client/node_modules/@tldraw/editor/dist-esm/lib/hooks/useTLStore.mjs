import { areObjectsShallowEqual } from "@tldraw/utils";
import { useState } from "react";
import { loadSnapshot } from "../config/TLEditorSnapshot.mjs";
import { createTLStore } from "../config/createTLStore.mjs";
function createStore(opts) {
  const store = createTLStore(opts);
  if (opts.snapshot) {
    loadSnapshot(store, opts.snapshot);
  }
  return { store, opts };
}
function useTLStore(opts) {
  const [current, setCurrent] = useState(() => createStore(opts));
  if (!areObjectsShallowEqual(current.opts, opts)) {
    const next = createStore(opts);
    setCurrent(next);
    return next.store;
  }
  return current.store;
}
export {
  useTLStore
};
//# sourceMappingURL=useTLStore.mjs.map
